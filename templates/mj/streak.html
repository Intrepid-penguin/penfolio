{% extends 'meta.html' %}

{% block head_title %}Streaks{% endblock %}

{% block body %}
{% include 'mj/header.html' %}

<div class="container mx-auto p-4">
    <div class="max-w-4xl mx-auto bg-white dark:bg-slate-900 rounded-lg shadow-md p-8 mt-10">
        <h1 class="text-2xl font-bold text-gray-800 dark:text-slate-100 mb-4">Contribution Streaks</h1>

        <div class="flex justify-around mb-8">
            <div class="text-center">
                <p class="text-4xl font-bold text-indigo-500">{{ current_streak }}</p>
                <p class="text-gray-600 dark:text-slate-300">Current Streak</p>
            </div>
            <div class="text-center">
                <p class="text-4xl font-bold text-indigo-500">{{ longest_streak }}</p>
                <p class="text-gray-600 dark:text-slate-300">Longest Streak</p>
            </div>
        </div>

        <div class="flex justify-center">
            <div class="grid grid-flow-col grid-rows-7 gap-1">
                {% for day_data in days_data %}
                <div class="w-4 h-4 rounded-sm
                    {% if day_data.count == 0 %}bg-gray-200 dark:bg-slate-800
                    {% elif day_data.count < 2 %}bg-green-200
                    {% elif day_data.count < 4 %}bg-green-400
                    {% elif day_data.count < 6 %}bg-green-600
                    {% else %}bg-green-800
                    {% endif %}"
                    title="{{ day_data.date|date:'Y-m-d' }}: {{ day_data.count }} contributions">
                </div>
                {% endfor %}
            </div>
        </div>
        
        <div class="flex justify-between text-xs text-gray-500 dark:text-slate-400 mt-2">
            <div>Learn how we count contributions.</div>
            <div class="flex items-center gap-1">
                <span>Less</span>
                <div class="w-3 h-3 rounded-sm bg-gray-200 dark:bg-slate-800"></div>
                <div class="w-3 h-3 rounded-sm bg-green-200"></div>
                <div class="w-3 h-3 rounded-sm bg-green-400"></div>
                <div class="w-3 h-3 rounded-sm bg-green-600"></div>
                <div class="w-3 h-3 rounded-sm bg-green-800"></div>
                <span>More</span>
            </div>
        </div>
    </div>
</div>
{% endblock %}
